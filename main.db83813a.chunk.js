(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={heading:"banksList_heading__1lG9L",loadMore:"banksList_loadMore__23ddP",changeCountCtn:"banksList_changeCountCtn__2mJ6T",count:"banksList_count__2n4Jl",countSubmit:"banksList_countSubmit__1gvw7"}},2:function(e,t,a){e.exports={mainContainer:"bankSearch_mainContainer__1eU1d",header:"bankSearch_header__2IxV9",heading:"bankSearch_heading__15Fe2",selectCity:"bankSearch_selectCity__2GFPz",searchQuery:"bankSearch_searchQuery__FXAnL",noResults:"bankSearch_noResults__25ExZ"}},22:function(e,t,a){e.exports=a(48)},28:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),s=a.n(i),l=(a(28),a(9)),o=a(21),c=a(19),u=a(3),h=a(4),d=a(6),m=a(5),p=a(7),g=a(20),b=a.n(g),f=a(10),v=a.n(f);var y=function(e,t,a){var n=Math.ceil(e/t),r=[];if(a-1>=1&&r.push({index:a-1,type:"prev",view:"Previous",status:a-1>=1}),a>=10){r.push({index:1,type:"number",view:1}),r.push({index:a-5,type:"dots",view:"..."});var i=[4,3,2,1];[{n:4,o:"dec"},{n:0,o:"none"},{n:4,o:"inc"}].forEach(function(e){if("none"!==e.o)for(var t=1;t<=e.n;t++){var s=void 0;"dec"===e.o?(s=a-i[t-1],r.push({index:s,type:"number",view:s})):"inc"===e.o&&(s=a+t)<=n&&r.push({index:s,type:"number",view:s})}else r.push({index:a,type:"active",view:a})})}else for(var s=1;s<=10;s++)s<=n&&r.length<=10&&(s===a?r.push({index:s,type:"active",view:s}):r.push({index:s,type:"number",view:s}));return a+1<=n&&r.push({index:a+1,type:"next",view:"Next",status:a+1<=n}),{pages:r,totalPages:n}},_=a(8),C=a.n(_),E=function(e){var t=y(e.totalProducts,e.count,e.currentIndex),a=t.pages;if(1===a.length)return null;var n=a.map(function(t,a){var n=[C.a[t.type],C.a.listItem];return t.hasOwnProperty("status")&&!t.status&&n.push(C.a.disabled),r.a.createElement("li",{className:n.join(" "),key:a,onClick:function(){e.setPageNumber(t.index)}},t.view)});return r.a.createElement("ul",{className:C.a.container},r.a.createElement("li",{className:C.a.paginationMeta},"Page ",r.a.createElement("b",null,e.currentIndex)," of ",t.totalPages),n)},N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).paginationHandler=function(){a.setState({pageNumber:a.state.pageNumber+1})},a.changeHandler=function(){var e=a.state.inputCount;e&&((e=parseInt(e,10))>0?a.setState({count:e,pageNumber:1}):alert("Invalid count input"))},a.inputHandler=function(e){a.setState({inputCount:e.target.value})},a.setPageNumber=function(e){a.setState({pageNumber:e},function(){window.scrollTo(0,0)})},a.state={count:5,pageNumber:1,inputCount:5},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.props.bankName!==e.baseName&&this.setState({pageNumber:1})}},{key:"render",value:function(){var e=this.props.data,t=this.props.filteredData;if(0===e.length)return null;var a=e;t.length>0&&(a=t);var n=a.length,i=a.slice(this.state.count*(this.state.pageNumber-1),this.state.count*this.state.pageNumber).map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.bank_name),r.a.createElement("td",null,e.ifsc),r.a.createElement("td",null,e.branch),r.a.createElement("td",null,e.address),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.district),r.a.createElement("td",null,e.state))});return r.a.createElement("div",null,r.a.createElement("div",{className:v.a.heading},"Total Results: ",r.a.createElement("b",null,n)),r.a.createElement("div",{className:v.a.changeCountCtn},r.a.createElement("b",null,"Change page result count:"),r.a.createElement("input",{className:v.a.count,type:"number",onChange:this.inputHandler,name:"quantity",value:this.state.inputCount,min:"1",max:"20"}),r.a.createElement("button",{className:v.a.countSubmit,onClick:this.changeHandler},"Submit")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bank Name"),r.a.createElement("th",null,"IFSC code"),r.a.createElement("th",null,"Branch"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"District"),r.a.createElement("th",null,"state"))),r.a.createElement("tbody",null,i)),r.a.createElement(E,{currentIndex:this.state.pageNumber,setPageNumber:this.setPageNumber,totalProducts:n,count:this.state.count}))}}]),t}(n.Component),k=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),w=a(2),L=a.n(w),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).getBankData=function(){a.setState({loading:!0});var e=a.state.inMemoryCache[a.state.cityName];e?a.setState({bankData:e.data,noResultsFound:!1,loading:!1,filteredData:[],noFilterResult:!1}):b.a.get("https://vast-shore-74260.herokuapp.com/banks?city=".concat(a.state.cityName)).then(function(e){if(200===e.status&&e.data.length>0){var t=Object(c.a)({},a.state.inMemoryCache);t[a.state.cityName]=e,a.setState({bankData:e.data,noResultsFound:!1,loading:!1,filteredData:[],noFilterResult:!1,inMemoryCache:t})}else a.setState({bankData:[],noResultsFound:!0,loading:!1,filteredData:[],noFilterResult:!1})})},a.cityChangeHandler=function(e){a.setState({cityName:e.target.value,bankData:[],filteredData:[],noFilterResult:!1,searchQuery:""},function(){a.getBankData()})},a.changeHandler=function(e){""===e.target.value?a.setState({searchQuery:e.target.value,noFilterResult:!1,filteredData:[]}):a.setState({searchQuery:e.target.value,noFilterResult:!1})},a.keyPressHandler=function(e){if("Enter"===e.key){var t=a.state.searchQuery.trim();if(""!==t){var n=Object(o.a)(a.state.bankData).filter(function(e){var n=a.toLowerCase(e.bank_name).indexOf(t.toLocaleLowerCase())>=0,r=a.toLowerCase(e.address).indexOf(t.toLocaleLowerCase())>=0,i=a.toLowerCase(e.ifsc).toLowerCase().indexOf(t.toLocaleLowerCase())>=0,s=a.toLowerCase(e.branch).indexOf(t.toLocaleLowerCase())>=0,l=a.toLowerCase(e.city).indexOf(t.toLocaleLowerCase())>=0,o=a.toLowerCase(e.district).indexOf(t.toLocaleLowerCase())>=0,c=a.toLowerCase(e.state).indexOf(t.toLocaleLowerCase())>=0;return n||r||i||s||l||o||c});n.length>0?a.setState({filteredData:n,noFilterResult:!1}):a.setState({filteredData:[],noFilterResult:!0})}}},a.state={cities:["BENGALURU","DELHI","CHENNAI","PUNE","MUMBAI"],bankData:[],searchQuery:"",cityName:"BENGALURU",noResultsFound:!1,loading:!1,filteredData:[],noFilterResult:!1,inMemoryCache:{}},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getBankData()}},{key:"toLowerCase",value:function(e){return e?e.toLowerCase():""}},{key:"render",value:function(){var e,t=this.state.cities.map(function(e,t){return r.a.createElement("option",{key:t},e)});return r.a.createElement("div",{className:L.a.mainContainer},r.a.createElement("h1",{className:L.a.heading},"Banks in the City"),r.a.createElement("header",{className:L.a.header},r.a.createElement("select",{value:this.state.cityName,className:L.a.selectCity,onChange:this.cityChangeHandler},t),r.a.createElement("input",(e={className:L.a.searchQuery,type:"text",placeholder:"Search by Bank name, IFSC, Branch, Address, city , state etc...",onChange:this.searchHandler,value:this.state.searchQuery},Object(l.a)(e,"onChange",this.changeHandler),Object(l.a)(e,"onKeyPress",this.keyPressHandler),e))),this.state.noFilterResult&&r.a.createElement("h4",{className:L.a.noResults},'No results for search query "',this.state.searchQuery.trim(),'". Showing all the results.'),this.state.loading&&r.a.createElement("div",{className:"loadingContainer"},"fetching results please wait...",r.a.createElement("div",{className:"circle loadingAnimation"})),r.a.createElement(N,{filteredData:this.state.filteredData,bankName:this.state.cityName,data:this.state.bankData}),this.state.noResultsFound&&r.a.createElement("div",{className:L.a.noResults},"No results found for city: ",this.state.cityName),r.a.createElement(k,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={container:"pagination_container__OXWzs",paginationMeta:"pagination_paginationMeta__1F7J0",listItem:"pagination_listItem__3hgRu",disabled:"pagination_disabled__2DZOh",number:"pagination_number__15aeQ",dots:"pagination_dots__1GvIo",active:"pagination_active__3cXQL",prev:"pagination_prev__1Iqb6",next:"pagination_next__23gT0"}}},[[22,1,2]]]);
//# sourceMappingURL=main.db83813a.chunk.js.map